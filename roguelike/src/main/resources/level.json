{
  "$id": "https://example.com/person.schema.json",
  "$schema": "http://json-schema.org/draft-09/schema#",
  "$defs": {

    "Block" : {
      "type": "object",
      "description": "A block in the map grid.",
      "properties": {
        "type" : {
          "enum" : ["EmptyBlock", "EntryLevelBlock", "ItemBlock", "LeaveLevelBlock", "WallBlock"],
          "nullable": false
        },
        "levelId": {
          "type" : "string",
          "description": "The ID of the level to enter, for EntryLevelBlock",
          "nullable" : false
        },
        "prototype" : {
          "type" : "string",
          "description": "..., for ItemBlock",
          "nullable" : false
        }
      },
      "required" : ["type"]
    }
  },

  "type": "object",
  "title": "Level",
  "description": "A structure representing a level in a game, containing a map grid and a position.",
  "properties": {
    "map": {
      "type": "array",
      "description": "A grid of blocks, each cell contains a block object.",
      "items": {
        "type": "array",
        "items" : {
          "type": "object",
          "$ref" : "#/$defs/Block"
        }
      }
    },
    "position": {
      "type": "object",
      "description": "The current position on the map.",
      "properties": {
        "x": {
          "type": "integer",
          "description": "X coordinate of the position."
        },
        "y": {
          "type": "integer",
          "description": "Y coordinate of the position."
        }
      },
      "required": [
        "x",
        "y"
      ]
    }
  },


  "required": ["map", "position", ""]
}

