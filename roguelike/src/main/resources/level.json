{
  "$id": "https://example.com/person.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$defs": {
    "EmptyBlock": {
      "properties": {
        "type": {
          "const": "EmptyBlock",
          "description": "A block representing an empty space."
        }
      },
      "required": ["type"],
      "additionalProperties": false
    },

    "EntryLevelBlock": {
      "properties": {
        "type": {
          "const": "EnterLevelBlock",
          "description": "A block representing an entry point to another level."
        },
        "levelId": {
          "type": "string",
          "description": "The ID of the level to enter."
        }
      },
      "required": ["type", "levelId"],
      "additionalProperties": false
    },

    "ItemBlock": {
      "type": "object",
      "properties": {
        "nameOfItem" : "string"
      },
      "description": "A block containing an item that can be collected.",
      "required": ["type", "prototype"],
      "additionalProperties": false
    },

    "LeaveLevelBlock": {
      "properties": {
        "type": {
          "const": "LeaveLevelBlock",
          "description": "A block representing an exit point from the level."
        }
      },
      "required": ["type"],
      "additionalProperties": false
    },

    "WallBlock": {
      "properties": {
        "type": {
          "const": "WallBlock",
          "description": "An impassable block preventing movement."
        }
      },
      "required": ["type"],
      "additionalProperties": false
    }
  },

  "type": "object",
  "title": "Level",
  "description": "A structure representing a level in a game, containing a map grid and a position.",
  "properties": {
    "mapapa": {
      "type": "array",
      "description": "A grid of blocks, each cell contains a block object.",
      "items": {
        "type": "object",
        "description": "A block in the map grid.",
        "oneOf": [{ "$ref": "#/$defs/EmptyBlock" }, { "$ref": "#/$defs/EntryLevelBlock" }]
      }
    },
    "position": {
      "type": "object",
      "description": "The current position on the map.",
      "properties": {
        "x": {
          "type": "integer",
          "description": "X coordinate of the position."
        },
        "y": {
          "type": "integer",
          "description": "Y coordinate of the position."
        }
      },
      "required": [
        "x",
        "y"
      ]
    }
  },


  "required": ["map", "position", ""]
}

